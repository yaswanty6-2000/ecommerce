https://localhost {
    root * /srv
    file_server

    reverse_proxy /api/* backend:5000 {
        header_up Host {host}
        header_up X-Real-IP {remote}
        header_up X-Forwarded-For {remote}
        header_up X-Forwarded-Proto {scheme}
    }

    tls internal  # Explicitly use self-signed certificate
    encode gzip
}